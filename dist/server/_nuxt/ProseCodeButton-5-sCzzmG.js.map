{"version":3,"file":"ProseCodeButton-5-sCzzmG.js","sources":["../../../../node_modules/@nuxt/ui/dist/runtime/composables/useCopyToClipboard.js","../../../../node_modules/@sse-ui/nuxt/modules/pro/runtime/components/global/prose/ProseCodeButton.vue"],"sourcesContent":["import { useClipboard } from \"@vueuse/core\";\nimport { useToast } from \"./useToast.js\";\nexport function useCopyToClipboard(options = {}) {\n  const { copy: copyToClipboard, isSupported } = useClipboard();\n  const toast = useToast();\n  function copy(text, success = {}, failure = {}) {\n    if (!isSupported) {\n      return;\n    }\n    copyToClipboard(text).then(() => {\n      if (!success.title && !success.description) {\n        return;\n      }\n      toast.add({ ...success, ...options });\n    }, function(e) {\n      toast.add({\n        ...failure,\n        description: failure.description || e.message,\n        ...options\n      });\n    });\n  }\n  return {\n    copy\n  };\n}\n","<script setup lang=\"ts\">\r\nconst props = defineProps({\r\n    code: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst config = {\r\n    icon: {\r\n        copy: 'i-heroicons-clipboard-document',\r\n        copied: 'i-heroicons-clipboard-document-check'\r\n    }\r\n}\r\n\r\nconst { ui } = useUI('content.prose.code.button', undefined, config, undefined, true)\r\nconst clipboard = useCopyToClipboard({ timeout: 2000 })\r\nconst icon = ref(ui.value.icon.copy)\r\n\r\n// Methods\r\n\r\nfunction copy() {\r\n    clipboard.copy(props.code, { title: 'Copied to clipboard!' })\r\n\r\n    icon.value = ui.value.icon.copied\r\n\r\n    setTimeout(() => {\r\n        icon.value = ui.value.icon.copy\r\n    }, 2000)\r\n}\r\n</script>\r\n\r\n<template>\r\n    <UButton :icon=\"icon\" color=\"gray\" variant=\"link\" size=\"xs\" aria-label=\"Copy code to clipboard\" tabindex=\"-1\"\r\n        @click=\"copy\" />\r\n</template>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEO,SAAS,mBAAmB,UAAU,IAAI;AAC/C,QAAM,EAAE,MAAM,iBAAiB,YAAa,IAAG,aAAY;AAC3D,QAAM,QAAQ;AACd,WAAS,KAAK,MAAM,UAAU,CAAA,GAAI,UAAU,CAAA,GAAI;AAC9C,QAAI,CAAC,aAAa;AAChB;AAAA,IACD;AACD,oBAAgB,IAAI,EAAE,KAAK,MAAM;AAC/B,UAAI,CAAC,QAAQ,SAAS,CAAC,QAAQ,aAAa;AAC1C;AAAA,MACD;AACD,YAAM,IAAI,EAAE,GAAG,SAAS,GAAG,QAAS,CAAA;AAAA,IACrC,GAAE,SAAS,GAAG;AACb,YAAM,IAAI;AAAA,QACR,GAAG;AAAA,QACH,aAAa,QAAQ,eAAe,EAAE;AAAA,QACtC,GAAG;AAAA,MACX,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AACD,SAAO;AAAA,IACL;AAAA,EACJ;AACA;;;;;;;;;;;ACxBA,UAAM,QAAQ;AAOd,UAAM,SAAS;AAAA,MACX,MAAM;AAAA,QACF,MAAM;AAAA,QACN,QAAQ;AAAA,MACZ;AAAA,IAAA;AAGE,UAAA,EAAE,OAAO,MAAM,6BAA6B,QAAW,QAAQ,QAAW,IAAI;AACpF,UAAM,YAAY,mBAAmB,EAAE,SAAS,IAAM,CAAA;AACtD,UAAM,OAAO,IAAI,GAAG,MAAM,KAAK,IAAI;AAInC,aAAS,OAAO;AACZ,gBAAU,KAAK,MAAM,MAAM,EAAE,OAAO,wBAAwB;AAEvD,WAAA,QAAQ,GAAG,MAAM,KAAK;AAE3B,iBAAW,MAAM;AACR,aAAA,QAAQ,GAAG,MAAM,KAAK;AAAA,SAC5B,GAAI;AAAA,IACX;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0,1]}